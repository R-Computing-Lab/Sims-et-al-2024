
# Set working directory
# setwd()


new_data <- read.table('df_crime_gen1.dat', sep=' ')
names(new_data) <- c('H0000300',
  'H0000400',
  'H0000500',
  'H0000600',
  'H0000700',
  'H0000800',
  'H0000900',
  'H0001000',
  'H0001100',
  'H0001101',
  'H0003900',
  'H0004000',
  'H0004500',
  'H0006900',
  'H0007000',
  'H0007001',
  'H0007100',
  'H0008600',
  'H0013301',
  'H0013400',
  'H0013401',
  'H0013402',
  'H0013403',
  'H0013404',
  'H0013405',
  'H0013406',
  'H0013407',
  'H0013408',
  'H0016400',
  'H0016500',
  'H0016700',
  'H0016800',
  'H0016900',
  'H0017000',
  'H0020800',
  'H0020900',
  'H0020901',
  'H0021000',
  'H0021100',
  'H0021200',
  'H0021300',
  'H0021301',
  'H0021400',
  'R0000100',
  'R0144600',
  'R0173600',
  'R3894900',
  'R3895000',
  'R3895100',
  'R3895200',
  'R3895300',
  'R3895400',
  'R3895500',
  'R3895600',
  'R3895700',
  'R3895800',
  'R3895900',
  'R3896000',
  'R3896100',
  'R3896200',
  'R3896300',
  'R3896400',
  'R3896500',
  'R3896600',
  'R3896700',
  'R3896800',
  'R3896810',
  'R3896811',
  'R3896820',
  'R4978300',
  'R4978400',
  'R4978500',
  'R4978600',
  'R4978700',
  'R4978800',
  'R4978900',
  'R4978910',
  'T5006600',
  'T5740700')


# Handle missing values

  new_data[new_data == -1] = NA  # Refused
  new_data[new_data == -2] = NA  # Dont know
  new_data[new_data == -3] = NA  # Invalid missing
  new_data[new_data == -4] = NA  # Valid missing
  new_data[new_data == -5] = NA  # Non-interview


# If there are values not categorized they will be represented as NA

vallabels = function(data) {
  data$H0000300 <- factor(data$H0000300,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("Rarely/None of the time/1 Day",
      "Some/A little of the time/1-2 Days",
      "Occasionally/Moderate amount of the time/3-4 Days",
      "Most/All of the time/5-7 Days"))
  data$H0000400 <- factor(data$H0000400,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("Rarely/None of the time/1 Day",
      "Some/A little of the time/1-2 Days",
      "Occasionally/Moderate amount of the time/3-4 Days",
      "Most/All of the time/5-7 Days"))
  data$H0000500 <- factor(data$H0000500,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("Rarely/None of the time/1 Day",
      "Some/A little of the time/1-2 Days",
      "Occasionally/Moderate amount of the time/3-4 Days",
      "Most/All of the time/5-7 Days"))
  data$H0000600 <- factor(data$H0000600,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("Rarely/None of the time/1 Day",
      "Some/A little of the time/1-2 Days",
      "Occasionally/Moderate amount of the time/3-4 Days",
      "Most/All of the time/5-7 Days"))
  data$H0000700 <- factor(data$H0000700,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("Rarely/None of the time/1 Day",
      "Some/A little of the time/1-2 Days",
      "Occasionally/Moderate amount of the time/3-4 Days",
      "Most/All of the time/5-7 Days"))
  data$H0000800 <- factor(data$H0000800,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("Rarely/None of the time/1 Day",
      "Some/A little of the time/1-2 Days",
      "Occasionally/Moderate amount of the time/3-4 Days",
      "Most/All of the time/5-7 Days"))
  data$H0000900 <- factor(data$H0000900,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("Rarely/None of the time/1 Day",
      "Some/A little of the time/1-2 Days",
      "Occasionally/Moderate amount of the time/3-4 Days",
      "Most/All of the time/5-7 Days"))
  data$H0001000 <- factor(data$H0001000,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("Rarely/None of the time/1 Day",
      "Some/A little of the time/1-2 Days",
      "Occasionally/Moderate amount of the time/3-4 Days",
      "Most/All of the time/5-7 Days"))
  data$H0001100 <- factor(data$H0001100,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("Rarely/None of the time/1 Day",
      "Some/A little of the time/1-2 Days",
      "Occasionally/Moderate amount of the time/3-4 Days",
      "Most/All of the time/5-7 Days"))
  data$H0001101[1.0 <= data$H0001101 & data$H0001101 <= 4.0] <- 1.0
  data$H0001101[5.0 <= data$H0001101 & data$H0001101 <= 9.0] <- 5.0
  data$H0001101[10.0 <= data$H0001101 & data$H0001101 <= 14.0] <- 10.0
  data$H0001101[15.0 <= data$H0001101 & data$H0001101 <= 19.0] <- 15.0
  data$H0001101[20.0 <= data$H0001101 & data$H0001101 <= 24.0] <- 20.0
  data$H0001101 <- factor(data$H0001101,
    levels=c(0.0,1.0,5.0,10.0,15.0,20.0),
    labels=c("0",
      "1 TO 4",
      "5 TO 9",
      "10 TO 14",
      "15 TO 19",
      "20 TO 24"))
  data$H0003900 <- factor(data$H0003900,
    levels=c(0.0,1.0),
    labels=c("NO",
      "YES"))
  data$H0004000 <- factor(data$H0004000,
    levels=c(0.0,1.0),
    labels=c("NO",
      "YES"))
  data$H0004500 <- factor(data$H0004500,
    levels=c(1.0,2.0,3.0,4.0,5.0,6.0),
    labels=c("All the time",
      "Most of the time",
      "A good bit of the time",
      "Some of the time",
      "A little of the time",
      "None of the time"))
  data$H0006900 <- factor(data$H0006900,
    levels=c(0.0,1.0),
    labels=c("NO",
      "YES"))
  data$H0007000 <- factor(data$H0007000,
    levels=c(1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0),
    labels=c("1: January",
      "2: February",
      "3: March",
      "4: April",
      "5: May",
      "6: June",
      "7: July",
      "8: August",
      "9: September",
      "10: October",
      "11: November",
      "12: December"))
  data$H0007001[0.0 <= data$H0007001 & data$H0007001 <= 1978.0] <- 0.0
  data$H0007001 <- factor(data$H0007001,
    levels=c(0.0,1979.0,1980.0,1981.0,1982.0,1983.0,1984.0,1985.0,1986.0,1987.0,1988.0,1989.0,1990.0,1991.0,1992.0,1993.0,1994.0,1995.0,1996.0,1997.0,1998.0,1999.0,2000.0,2001.0,2002.0,2003.0,2004.0,2005.0,2006.0,2007.0,2008.0,2009.0,2010.0,2011.0,2012.0,2013.0,2014.0,2015.0,2016.0,2017.0),
    labels=c("0 TO 1978: < 1978",
      "1979",
      "1980",
      "1981",
      "1982",
      "1983",
      "1984",
      "1985",
      "1986",
      "1987",
      "1988",
      "1989",
      "1990",
      "1991",
      "1992",
      "1993",
      "1994",
      "1995",
      "1996",
      "1997",
      "1998",
      "1999",
      "2000",
      "2001",
      "2002",
      "2003",
      "2004",
      "2005",
      "2006",
      "2007",
      "2008",
      "2009",
      "2010",
      "2011",
      "2012",
      "2013",
      "2014",
      "2015",
      "2016",
      "2017"))
  data$H0007100 <- factor(data$H0007100,
    levels=c(0.0,1.0),
    labels=c("NO",
      "YES"))
  data$H0008600 <- factor(data$H0008600,
    levels=c(0.0,1.0),
    labels=c("NO",
      "YES"))
  data$H0013301[1.0 <= data$H0013301 & data$H0013301 <= 4.0] <- 1.0
  data$H0013301[5.0 <= data$H0013301 & data$H0013301 <= 9.0] <- 5.0
  data$H0013301[10.0 <= data$H0013301 & data$H0013301 <= 14.0] <- 10.0
  data$H0013301[15.0 <= data$H0013301 & data$H0013301 <= 19.0] <- 15.0
  data$H0013301[20.0 <= data$H0013301 & data$H0013301 <= 24.0] <- 20.0
  data$H0013301 <- factor(data$H0013301,
    levels=c(0.0,1.0,5.0,10.0,15.0,20.0),
    labels=c("0",
      "1 TO 4",
      "5 TO 9",
      "10 TO 14",
      "15 TO 19",
      "20 TO 24"))
  data$H0013400 <- factor(data$H0013400,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("Rarely/None of the time/1 Day",
      "Some/A little of the time/1-2 Days",
      "Occasionally/Moderate amount of the time/3-4 Days",
      "Most/All of the time/5-7 Days"))
  data$H0013401 <- factor(data$H0013401,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("Rarely/None of the time/1 Day",
      "Some/A little of the time/1-2 Days",
      "Occasionally/Moderate amount of the time/3-4 Days",
      "Most/All of the time/5-7 Days"))
  data$H0013402 <- factor(data$H0013402,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("Rarely/None of the time/1 Day",
      "Some/A little of the time/1-2 Days",
      "Occasionally/Moderate amount of the time/3-4 Days",
      "Most/All of the time/5-7 Days"))
  data$H0013403 <- factor(data$H0013403,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("Rarely/None of the time/1 Day",
      "Some/A little of the time/1-2 Days",
      "Occasionally/Moderate amount of the time/3-4 Days",
      "Most/All of the time/5-7 Days"))
  data$H0013404 <- factor(data$H0013404,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("Rarely/None of the time/1 Day",
      "Some/A little of the time/1-2 Days",
      "Occasionally/Moderate amount of the time/3-4 Days",
      "Most/All of the time/5-7 Days"))
  data$H0013405 <- factor(data$H0013405,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("Rarely/None of the time/1 Day",
      "Some/A little of the time/1-2 Days",
      "Occasionally/Moderate amount of the time/3-4 Days",
      "Most/All of the time/5-7 Days"))
  data$H0013406 <- factor(data$H0013406,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("Rarely/None of the time/1 Day",
      "Some/A little of the time/1-2 Days",
      "Occasionally/Moderate amount of the time/3-4 Days",
      "Most/All of the time/5-7 Days"))
  data$H0013407 <- factor(data$H0013407,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("Rarely/None of the time/1 Day",
      "Some/A little of the time/1-2 Days",
      "Occasionally/Moderate amount of the time/3-4 Days",
      "Most/All of the time/5-7 Days"))
  data$H0013408 <- factor(data$H0013408,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("Rarely/None of the time/1 Day",
      "Some/A little of the time/1-2 Days",
      "Occasionally/Moderate amount of the time/3-4 Days",
      "Most/All of the time/5-7 Days"))
  data$H0016400 <- factor(data$H0016400,
    levels=c(0.0,1.0),
    labels=c("NO",
      "YES"))
  data$H0016500 <- factor(data$H0016500,
    levels=c(0.0,1.0),
    labels=c("NO",
      "YES"))
  data$H0016700 <- factor(data$H0016700,
    levels=c(1.0,2.0,3.0,4.0,5.0,6.0),
    labels=c("All the time",
      "Most of the time",
      "A good bit of the time",
      "Some of the time",
      "A little of the time",
      "None of the time"))
  data$H0016800 <- factor(data$H0016800,
    levels=c(1.0,2.0,3.0,4.0,5.0,6.0),
    labels=c("All the time",
      "Most of the time",
      "A good bit of the time",
      "Some of the time",
      "A little of the time",
      "None of the time"))
  data$H0016900 <- factor(data$H0016900,
    levels=c(1.0,2.0,3.0,4.0,5.0,6.0),
    labels=c("All the time",
      "Most of the time",
      "A good bit of the time",
      "Some of the time",
      "A little of the time",
      "None of the time"))
  data$H0017000 <- factor(data$H0017000,
    levels=c(1.0,2.0,3.0,4.0,5.0,6.0),
    labels=c("All the time",
      "Most of the time",
      "A good bit of the time",
      "Some of the time",
      "A little of the time",
      "None of the time"))
  data$H0020800 <- factor(data$H0020800,
    levels=c(0.0,1.0),
    labels=c("NO",
      "YES"))
  data$H0020900 <- factor(data$H0020900,
    levels=c(1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0),
    labels=c("1: January",
      "2: February",
      "3: March",
      "4: April",
      "5: May",
      "6: June",
      "7: July",
      "8: August",
      "9: September",
      "10: October",
      "11: November",
      "12: December"))
  data$H0020901[0.0 <= data$H0020901 & data$H0020901 <= 1996.0] <- 0.0
  data$H0020901 <- factor(data$H0020901,
    levels=c(0.0,1997.0,1998.0,1999.0,2000.0,2001.0,2002.0,2003.0,2004.0,2005.0,2006.0,2007.0,2008.0,2009.0,2010.0,2011.0,2012.0,2013.0,2014.0,2015.0,2016.0,2017.0),
    labels=c("0 TO 1996: <= 1996",
      "1997",
      "1998",
      "1999",
      "2000",
      "2001",
      "2002",
      "2003",
      "2004",
      "2005",
      "2006",
      "2007",
      "2008",
      "2009",
      "2010",
      "2011",
      "2012",
      "2013",
      "2014",
      "2015",
      "2016",
      "2017"))
  data$H0021000 <- factor(data$H0021000,
    levels=c(0.0,1.0),
    labels=c("NO",
      "YES"))
  data$H0021100 <- factor(data$H0021100,
    levels=c(0.0,1.0),
    labels=c("0: 0  CONDITION DOES NOT APPLY",
      "1: 1  CONDITION APPLIES"))
  data$H0021200 <- factor(data$H0021200,
    levels=c(0.0,1.0),
    labels=c("NO",
      "YES"))
  data$H0021300 <- factor(data$H0021300,
    levels=c(1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0),
    labels=c("1: January",
      "2: February",
      "3: March",
      "4: April",
      "5: May",
      "6: June",
      "7: July",
      "8: August",
      "9: September",
      "10: October",
      "11: November",
      "12: December"))
  data$H0021301[0.0 <= data$H0021301 & data$H0021301 <= 1996.0] <- 0.0
  data$H0021301 <- factor(data$H0021301,
    levels=c(0.0,1997.0,1998.0,1999.0,2000.0,2001.0,2002.0,2003.0,2004.0,2005.0,2006.0,2007.0,2008.0,2009.0,2010.0,2011.0,2012.0,2013.0,2014.0,2015.0,2016.0,2017.0),
    labels=c("0 TO 1996: <= 1996",
      "1997",
      "1998",
      "1999",
      "2000",
      "2001",
      "2002",
      "2003",
      "2004",
      "2005",
      "2006",
      "2007",
      "2008",
      "2009",
      "2010",
      "2011",
      "2012",
      "2013",
      "2014",
      "2015",
      "2016",
      "2017"))
  data$H0021400 <- factor(data$H0021400,
    levels=c(0.0,1.0),
    labels=c("NO",
      "YES"))
  data$R0144600[10.0 <= data$R0144600 & data$R0144600 <= 9999.0] <- 10.0
  data$R0144600[10010.0 <= data$R0144600 & data$R0144600 <= 10829.0] <- 10010.0
  data$R0144600[11800.0 <= data$R0144600 & data$R0144600 <= 11999.0] <- 11800.0
  data$R0144600[12800.0 <= data$R0144600 & data$R0144600 <= 12997.0] <- 12800.0
  data$R0144600 <- factor(data$R0144600,
    levels=c(0.0,10.0,10010.0,11800.0,12800.0),
    labels=c("0: 0 NO HEALTH LIMITATION",
      "10 TO 9999: 0010 THRU  9999 ICD-9 HEALTH CODE",
      "10010 TO 10829: 10010 THRU 10829 ICD-9 'V' CODE",
      "11800 TO 11999: 11800 THRU 11999 ICD-9 'E' CODE",
      "12800 TO 12997: 12800 THRU 12997 ICD-9 'M' CODE"))
  data$R0173600 <- factor(data$R0173600,
    levels=c(1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0),
    labels=c("CROSS MALE WHITE",
      "CROSS MALE WH. POOR",
      "CROSS MALE BLACK",
      "CROSS MALE HISPANIC",
      "CROSS FEMALE WHITE",
      "CROSS FEMALE WH POOR",
      "CROSS FEMALE BLACK",
      "CROSS FEMALE HISPANIC",
      "SUP MALE WH POOR",
      "SUP MALE BLACK",
      "SUP MALE HISPANIC",
      "SUP FEM WH POOR",
      "SUP FEMALE BLACK",
      "SUP FEMALE HISPANIC",
      "MIL MALE WHITE",
      "MIL MALE BLACK",
      "MIL MALE HISPANIC",
      "MIL FEMALE WHITE",
      "MIL FEMALE BLACK",
      "MIL FEMALE HISPANIC"))
  data$R3894900 <- factor(data$R3894900,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("RARELY/NONE OF THE TIME/1 DAY",
      "SOME/A LITTLE OF THE TIME/1-2 DAYS",
      "OCCASIONALLY/MODERATE AMT OF THE TIME/3-4 DAYS",
      "MOST/ALL OF THE TIME/5-7 DAYS"))
  data$R3895000 <- factor(data$R3895000,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("RARELY/NONE OF THE TIME/1 DAY",
      "SOME/A LITTLE OF THE TIME/1-2 DAYS",
      "OCCASIONALLY/MODERATE AMT OF THE TIME/3-4 DAYS",
      "MOST/ALL OF THE TIME/5-7 DAYS"))
  data$R3895100 <- factor(data$R3895100,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("RARELY/NONE OF THE TIME/1 DAY",
      "SOME/A LITTLE OF THE TIME/1-2 DAYS",
      "OCCASIONALLY/MODERATE AMT OF THE TIME/3-4 DAYS",
      "MOST/ALL OF THE TIME/5-7 DAYS"))
  data$R3895200 <- factor(data$R3895200,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("RARELY/NONE OF THE TIME/1 DAY",
      "SOME/A LITTLE OF THE TIME/1-2 DAYS",
      "OCCASIONALLY/MODERATE AMT OF THE TIME/3-4 DAYS",
      "MOST/ALL OF THE TIME/5-7 DAYS"))
  data$R3895300 <- factor(data$R3895300,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("RARELY/NONE OF THE TIME/1 DAY",
      "SOME/A LITTLE OF THE TIME/1-2 DAYS",
      "OCCASIONALLY/MODERATE AMT OF THE TIME/3-4 DAYS",
      "MOST/ALL OF THE TIME/5-7 DAYS"))
  data$R3895400 <- factor(data$R3895400,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("RARELY/NONE OF THE TIME/1 DAY",
      "SOME/A LITTLE OF THE TIME/1-2 DAYS",
      "OCCASIONALLY/MODERATE AMT OF THE TIME/3-4 DAYS",
      "MOST/ALL OF THE TIME/5-7 DAYS"))
  data$R3895500 <- factor(data$R3895500,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("RARELY/NONE OF THE TIME/1 DAY",
      "SOME/A LITTLE OF THE TIME/1-2 DAYS",
      "OCCASIONALLY/MODERATE AMT OF THE TIME/3-4 DAYS",
      "MOST/ALL OF THE TIME/5-7 DAYS"))
  data$R3895600 <- factor(data$R3895600,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("RARELY/NONE OF THE TIME/1 DAY",
      "SOME/A LITTLE OF THE TIME/1-2 DAYS",
      "OCCASIONALLY/MODERATE AMT OF THE TIME/3-4 DAYS",
      "MOST/ALL OF THE TIME/5-7 DAYS"))
  data$R3895700 <- factor(data$R3895700,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("RARELY/NONE OF THE TIME/1 DAY",
      "SOME/A LITTLE OF THE TIME/1-2 DAYS",
      "OCCASIONALLY/MODERATE AMT OF THE TIME/3-4 DAYS",
      "MOST/ALL OF THE TIME/5-7 DAYS"))
  data$R3895800 <- factor(data$R3895800,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("RARELY/NONE OF THE TIME/1 DAY",
      "SOME/A LITTLE OF THE TIME/1-2 DAYS",
      "OCCASIONALLY/MODERATE AMT OF THE TIME/3-4 DAYS",
      "MOST/ALL OF THE TIME/5-7 DAYS"))
  data$R3895900 <- factor(data$R3895900,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("RARELY/NONE OF THE TIME/1 DAY",
      "SOME/A LITTLE OF THE TIME/1-2 DAYS",
      "OCCASIONALLY/MODERATE AMT OF THE TIME/3-4 DAYS",
      "MOST/ALL OF THE TIME/5-7 DAYS"))
  data$R3896000 <- factor(data$R3896000,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("RARELY/NONE OF THE TIME/1 DAY",
      "SOME/A LITTLE OF THE TIME/1-2 DAYS",
      "OCCASIONALLY/MODERATE AMT OF THE TIME/3-4 DAYS",
      "MOST/ALL OF THE TIME/5-7 DAYS"))
  data$R3896100 <- factor(data$R3896100,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("RARELY/NONE OF THE TIME/1 DAY",
      "SOME/A LITTLE OF THE TIME/1-2 DAYS",
      "OCCASIONALLY/MODERATE AMT OF THE TIME/3-4 DAYS",
      "MOST/ALL OF THE TIME/5-7 DAYS"))
  data$R3896200 <- factor(data$R3896200,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("RARELY/NONE OF THE TIME/1 DAY",
      "SOME/A LITTLE OF THE TIME/1-2 DAYS",
      "OCCASIONALLY/MODERATE AMT OF THE TIME/3-4 DAYS",
      "MOST/ALL OF THE TIME/5-7 DAYS"))
  data$R3896300 <- factor(data$R3896300,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("RARELY/NONE OF THE TIME/1 DAY",
      "SOME/A LITTLE OF THE TIME/1-2 DAYS",
      "OCCASIONALLY/MODERATE AMT OF THE TIME/3-4 DAYS",
      "MOST/ALL OF THE TIME/5-7 DAYS"))
  data$R3896400 <- factor(data$R3896400,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("RARELY/NONE OF THE TIME/1 DAY",
      "SOME/A LITTLE OF THE TIME/1-2 DAYS",
      "OCCASIONALLY/MODERATE AMT OF THE TIME/3-4 DAYS",
      "MOST/ALL OF THE TIME/5-7 DAYS"))
  data$R3896500 <- factor(data$R3896500,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("RARELY/NONE OF THE TIME/1 DAY",
      "SOME/A LITTLE OF THE TIME/1-2 DAYS",
      "OCCASIONALLY/MODERATE AMT OF THE TIME/3-4 DAYS",
      "MOST/ALL OF THE TIME/5-7 DAYS"))
  data$R3896600 <- factor(data$R3896600,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("RARELY/NONE OF THE TIME/1 DAY",
      "SOME/A LITTLE OF THE TIME/1-2 DAYS",
      "OCCASIONALLY/MODERATE AMT OF THE TIME/3-4 DAYS",
      "MOST/ALL OF THE TIME/5-7 DAYS"))
  data$R3896700 <- factor(data$R3896700,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("RARELY/NONE OF THE TIME/1 DAY",
      "SOME/A LITTLE OF THE TIME/1-2 DAYS",
      "OCCASIONALLY/MODERATE AMT OF THE TIME/3-4 DAYS",
      "MOST/ALL OF THE TIME/5-7 DAYS"))
  data$R3896800 <- factor(data$R3896800,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("RARELY/NONE OF THE TIME/1 DAY",
      "SOME/A LITTLE OF THE TIME/1-2 DAYS",
      "OCCASIONALLY/MODERATE AMT OF THE TIME/3-4 DAYS",
      "MOST/ALL OF THE TIME/5-7 DAYS"))
  data$R3896810[1.0 <= data$R3896810 & data$R3896810 <= 9.0] <- 1.0
  data$R3896810[10.0 <= data$R3896810 & data$R3896810 <= 19.0] <- 10.0
  data$R3896810[20.0 <= data$R3896810 & data$R3896810 <= 29.0] <- 20.0
  data$R3896810[30.0 <= data$R3896810 & data$R3896810 <= 39.0] <- 30.0
  data$R3896810[40.0 <= data$R3896810 & data$R3896810 <= 49.0] <- 40.0
  data$R3896810[50.0 <= data$R3896810 & data$R3896810 <= 59.0] <- 50.0
  data$R3896810[60.0 <= data$R3896810 & data$R3896810 <= 69.0] <- 60.0
  data$R3896810 <- factor(data$R3896810,
    levels=c(0.0,1.0,10.0,20.0,30.0,40.0,50.0,60.0),
    labels=c("0",
      "1 TO 9",
      "10 TO 19",
      "20 TO 29",
      "30 TO 39",
      "40 TO 49",
      "50 TO 59",
      "60 TO 69"))
  data$R3896811[1.0 <= data$R3896811 & data$R3896811 <= 4.0] <- 1.0
  data$R3896811[5.0 <= data$R3896811 & data$R3896811 <= 9.0] <- 5.0
  data$R3896811[10.0 <= data$R3896811 & data$R3896811 <= 14.0] <- 10.0
  data$R3896811[15.0 <= data$R3896811 & data$R3896811 <= 19.0] <- 15.0
  data$R3896811[20.0 <= data$R3896811 & data$R3896811 <= 24.0] <- 20.0
  data$R3896811[25.0 <= data$R3896811 & data$R3896811 <= 29.0] <- 25.0
  data$R3896811 <- factor(data$R3896811,
    levels=c(0.0,1.0,5.0,10.0,15.0,20.0,25.0),
    labels=c("0",
      "1 TO 4",
      "5 TO 9",
      "10 TO 14",
      "15 TO 19",
      "20 TO 24",
      "25 TO 29"))
  data$R3896820[1.0 <= data$R3896820 & data$R3896820 <= 4.0] <- 1.0
  data$R3896820[5.0 <= data$R3896820 & data$R3896820 <= 9.0] <- 5.0
  data$R3896820[10.0 <= data$R3896820 & data$R3896820 <= 14.0] <- 10.0
  data$R3896820[15.0 <= data$R3896820 & data$R3896820 <= 19.0] <- 15.0
  data$R3896820[20.0 <= data$R3896820 & data$R3896820 <= 24.0] <- 20.0
  data$R3896820[25.0 <= data$R3896820 & data$R3896820 <= 29.0] <- 25.0
  data$R3896820 <- factor(data$R3896820,
    levels=c(0.0,1.0,5.0,10.0,15.0,20.0,25.0),
    labels=c("0",
      "1 TO 4",
      "5 TO 9",
      "10 TO 14",
      "15 TO 19",
      "20 TO 24",
      "25 TO 29"))
  data$R4978300 <- factor(data$R4978300,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("Rarely/None of the Time/1 Day",
      "Some/A Little of the Time/1-2 Days",
      "Occasionally/Moderate Amount of the Time/3-4 Days",
      "Most/All of the Time/5-7 Days"))
  data$R4978400 <- factor(data$R4978400,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("Rarely/None of the Time/1 Day",
      "Some/A Little of the Time/1-2 Days",
      "Occasionally/Moderate Amount of the Time/3-4 Days",
      "Most/All of the Time/5-7 Days"))
  data$R4978500 <- factor(data$R4978500,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("Rarely/None of the Time/1 Day",
      "Some/A Little of the Time/1-2 Days",
      "Occasionally/Moderate Amount of the Time/3-4 Days",
      "Most/All of the Time/5-7 Days"))
  data$R4978600 <- factor(data$R4978600,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("Rarely/None of the Time/1 Day",
      "Some/A Little of the Time/1-2 Days",
      "Occasionally/Moderate Amount of the Time/3-4 Days",
      "Most/All of the Time/5-7 Days"))
  data$R4978700 <- factor(data$R4978700,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("Rarely/None of the Time/1 Day",
      "Some/A Little of the Time/1-2 Days",
      "Occasionally/Moderate Amount of the Time/3-4 Days",
      "Most/All of the Time/5-7 Days"))
  data$R4978800 <- factor(data$R4978800,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("Rarely/None of the Time/1 Day",
      "Some/A Little of the Time/1-2 Days",
      "Occasionally/Moderate Amount of the Time/3-4 Days",
      "Most/All of the Time/5-7 Days"))
  data$R4978900 <- factor(data$R4978900,
    levels=c(0.0,1.0,2.0,3.0),
    labels=c("Rarely/None of the Time/1 Day",
      "Some/A Little of the Time/1-2 Days",
      "Occasionally/Moderate Amount of the Time/3-4 Days",
      "Most/All of the Time/5-7 Days"))
  data$R4978910[1.0 <= data$R4978910 & data$R4978910 <= 4.0] <- 1.0
  data$R4978910[5.0 <= data$R4978910 & data$R4978910 <= 9.0] <- 5.0
  data$R4978910[10.0 <= data$R4978910 & data$R4978910 <= 14.0] <- 10.0
  data$R4978910[15.0 <= data$R4978910 & data$R4978910 <= 19.0] <- 15.0
  data$R4978910[20.0 <= data$R4978910 & data$R4978910 <= 24.0] <- 20.0
  data$R4978910[25.0 <= data$R4978910 & data$R4978910 <= 29.0] <- 25.0
  data$R4978910 <- factor(data$R4978910,
    levels=c(0.0,1.0,5.0,10.0,15.0,20.0,25.0),
    labels=c("0",
      "1 TO 4",
      "5 TO 9",
      "10 TO 14",
      "15 TO 19",
      "20 TO 24",
      "25 TO 29"))
  data$T5006600 <- factor(data$T5006600,
    levels=c(1.0,2.0,3.0,4.0,5.0,6.0,7.0),
    labels=c("1 (not at all satisfied)",
      "2",
      "3",
      "4",
      "5",
      "6",
      "7 (completely satisfied)"))
  data$T5740700 <- factor(data$T5740700,
    levels=c(1.0,2.0,3.0,4.0,5.0,6.0,7.0),
    labels=c("1 (not at all satisfied)",
      "2",
      "3",
      "4",
      "5",
      "6",
      "7 (completely satisfied)"))
  return(data)
}

varlabels <- c("CES-D - POOR APPETITE XRND",
  "CES-D - COULD NOT SHAKE BLUES XRND",
  "CES-D - TROUBL KEEPING MIND ON TASKS XRND",
  "CES-D - DEPRESSED XRND",
  "CES-D - EVERYTHING TOOK EXTRA EFFORT XRND",
  "CES-D - RESTLESS SLEEP XRND",
  "CES-D - FELT LONELY XRND",
  "CES-D - SAD XRND",
  "CES-D - COULD NOT GET GOING XRND",
  "H40 7-ITEM CES-D SCORE XRND",
  "SF-12 - EMOTIONAL PRBS LIMIT ACCMPLSHMT? XRND",
  "SF-12 - EMOTIONAL PRBS MADE LESS CARFUL? XRND",
  "SF-12 - HLTH PRBS HINDER SOC ACTIV? XRND",
  "CCR-DR DIAGNS EMTNL,NRVS,PSYC PRBS? XRND",
  "CCR-DATE DR DIAG EMTN,NRVS,PSYC PRB XRND",
  "CCR-DATE DR DIAG EMTN,NRVS,PSYC PRB XRND",
  "CCR-EMTN,NRVS,PSYC PROBS LST 12 MO? XRND",
  "CCR-DEPRESN,EXCESS WORRY,NERVS PRB XRND",
  "H50 7-ITEM CES-D SCORE XRND",
  "CESD -  POOR APPETITE XRND",
  "CESD - COULD NOT SHAKE BLUES XRND",
  "CESD - TROUBLE KEEPING MIND ON TASK XRND",
  "CESD - DEPRESSION XRND",
  "CESD - EVERYTHING TAKING EXTRA EFFORT XRND",
  "CESD - RESTLESS SLEEP XRND",
  "CESD - FEELING LONELY XRND",
  "CESD -  FEELING SAD XRND",
  "CESD - COULD NOT GET GOING XRND",
  "SF12 - EMOTIONAL PRBS LIMIT ACCMPLSHMT? XRND",
  "SF12 - EMOTIONAL PRBS MADE LESS CARFUL? XRND",
  "SF12 - CALM/PEACEFUL PAST 4 WKS? XRND",
  "SF12 - HAVE ENERGY PAST 4 WKS? XRND",
  "SF12 - DOWNHRTD OR BLUE PAST 4 WKS? XRND",
  "SF12 - HLTH PRBS HINDER SOC ACTIV? XRND",
  "DOCTOR EVER DIAGNOSED R SUFFERING FROM DEPRESSION XRND",
  "DATE RS DEPRESSION DIAGNOSED XRND",
  "DATE RS DEPRESSION DIAGNOSED XRND",
  "R SUFFERED FROM DEPRESSION IN LAST 12 MOS XRND",
  "PSYCHIATRIC DIAGNOSIS IN 40+ HEALTH MOD XRND",
  "DR EVER SAID R HAD EMO/NERV/PSYC PBLS OT THAN DEP XRND",
  "DATE R EMO/NERV/PSYC PBLS DIAGNOSED XRND",
  "DATE R EMO/NERV/PSYC PBLS DIAGNOSED XRND",
  "R HAD ANY EMO/NERV/PSYC PROBLEMS IN LAST 12 MOS XRND",
  "ID# (1-12686) 79",
  "HLTH CONSOLIDATION CODE 5-D 79",
  "SAMPLE ID  79 INT",
  "CES-D-BOTHERED BY THINGS 92",
  "CES-D-POOR APPETITE 92",
  "CES-D-UNABLE TO SHAKE BLUES 92",
  "CES-D-FELT GOOD AS OTHR PEOPLE 92",
  "CES-D-TRBLE KEEPING MIND ON TASKS 92",
  "CES-D-DEPRESSED 92",
  "CES-D-THINGS TOOK EXTRA EFFORT 92",
  "CES-D-HOPEFUL 92",
  "CES-D-A FAILURE 92",
  "CES-D-FEARFUL 92",
  "CES-D-RESTLESS SLEEP 92",
  "CES-D-HAPPY 92",
  "CES-D-LESS TALKATIVE THAN USUAL 92",
  "CES-D-LONELY 92",
  "CES-D-OTHERS WERE UNFRIENDLY 92",
  "CES-D-ENJOYED LIFE 92",
  "CES-D-CRYING SPELLS 92",
  "CES-D-SAD 92",
  "CES-D-DISLIKED BY OTHERS 92",
  "CES-D-COULD NOT GET GOING 92",
  "20-ITEM CES-D SCORE 92",
  "FLAG FOR 20-ITEM CES-D SCORE 92",
  "7-ITEM CES-D SCORE 92",
  "CES-D - POOR APPETITE 94",
  "CES-D-TRBLE KPNG MIND ON TASKS 94",
  "CES-D - DEPRESSED 94",
  "CES-D - TOOK EXTRA EFFORT 94",
  "CES-D - RESTLESS SLEEP 94",
  "CES-D - SAD 94",
  "CES-D - COULD NOT GET GOING 94",
  "7-ITEM CES-D SCORE 94",
  "R SATISFACTION WITH LIFE 2014",
  "R SATISFACTION WITH LIFE 2016"
)


# Use qnames rather than rnums

qnames = function(data) {
  names(data) <- c("H40-CESD~000001_XRND",
    "H40-CESD~000002_XRND",
    "H40-CESD~000003_XRND",
    "H40-CESD~000004_XRND",
    "H40-CESD~000005_XRND",
    "H40-CESD~000006_XRND",
    "H40-CESD~000007_XRND",
    "H40-CESD~000008_XRND",
    "H40-CESD~000009_XRND",
    "H40-CESD_SCORE_7_ITEM_XRND",
    "H40-SF12-5_XRND",
    "H40-SF12-5B_XRND",
    "H40-SF12-8_XRND",
    "H40-CHRC-8_XRND",
    "H40-CHRC-8A~M_XRND",
    "H40-CHRC-8A~Y_XRND",
    "H40-CHRC-8B_XRND",
    "H40-CHRC-10K_XRND",
    "H50-CESD_SCORE_7_ITEM_XRND",
    "H50CESD~000001_XRND",
    "H50CESD~000002_XRND",
    "H50CESD~000003_XRND",
    "H50CESD~000004_XRND",
    "H50CESD~000005_XRND",
    "H50CESD~000006_XRND",
    "H50CESD~000007_XRND",
    "H50CESD~000008_XRND",
    "H50CESD~000009_XRND",
    "H50SF12-5_XRND",
    "H50SF12-5B_XRND",
    "H50SF12-7_XRND",
    "H50SF12-7B_XRND",
    "H50SF12-7C_XRND",
    "H50SF12-8_XRND",
    "H50CHRC-7B_XRND",
    "H50CHRC-7C~M_XRND",
    "H50CHRC-7C~Y_XRND",
    "H50CHRC-7D_XRND",
    "H50CHRC_CHK6_XRND",
    "H50CHRC-8_XRND",
    "H50CHRC-8A~M_XRND",
    "H50CHRC-8A~Y_XRND",
    "H50CHRC-8B_XRND",
    "CASEID_1979",
    "HEALTH_CODE_1979",
    "SAMPLE_ID_1979",
    "CESD~000000_1992",
    "CESD~000001_1992",
    "CESD~000002_1992",
    "CESD~000002A_1992",
    "CESD~000003_1992",
    "CESD~000004_1992",
    "CESD~000005_1992",
    "CESD~000005A_1992",
    "CESD~000005B_1992",
    "CESD~000005C_1992",
    "CESD~000006_1992",
    "CESD~000006A_1992",
    "CESD~000006B_1992",
    "CESD~000007_1992",
    "CESD~000007A_1992",
    "CESD~000007B_1992",
    "CESD~000007C_1992",
    "CESD~000008_1992",
    "CESD~000008A_1992",
    "CESD~000009_1992",
    "CESD_SCORE_20_ITEM_1992",
    "CESD_FLAG_1992",
    "CESD_SCORE_7_ITEM_1992",
    "CESD~000001_1994",
    "CESD~000003_1994",
    "CESD~000004_1994",
    "CESD~000005_1994",
    "CESD~000006_1994",
    "CESD~000008_1994",
    "CESD~000009_1994",
    "CESD_SCORE_7_ITEM_1994",
    "LIFE-SATISFACTION_2014",
    "LIFE-SATISFACTION_2016")
  return(data)
}


#********************************************************************************************************

# Remove the '#' before the following line to create a data file called "categories" with value labels.
categories <- vallabels(new_data)

# Remove the '#' before the following lines to rename variables using Qnames instead of Reference Numbers
new_data <- qnames(new_data)
categories <- qnames(categories)

# Produce summaries for the raw (uncategorized) data file
summary(new_data)

# Remove the '#' before the following lines to produce summaries for the "categories" data file.
categories <- vallabels(new_data)
summary(categories)

#************************************************************************************************************

